"use strict";(globalThis.webpackChunkapi_oas_checker=globalThis.webpackChunkapi_oas_checker||[]).push([[8468],{8468:(e,r,t)=>{t.r(r),t.d(r,{default:()=>F});var n=t(7294),o=t(9669),a=t.n(o),i=t(158),c=t(5217),s=t(1296),u=t.n(s),g=t(805),l=t(5998),d=t(9795),h=t(7595),f=t(6362),M=t(4586);const m=(0,g.QM)({editor:{height:"calc(100vh - 10px)"},editorMarginHint:{backgroundColor:"#0000FF"},editorMarginInfo:{backgroundColor:"#008000"},editorMarginError:{backgroundColor:"#FF0000"},editorMarginWarning:{backgroundColor:"#FFFF00"},editorHighlightLine:{backgroundColor:"#FFFFFF"}}),F=()=>{const e=(0,n.useRef)(null),r=(0,n.useRef)({}),t=(0,n.useRef)([]),o=m(),s=(0,l.v9)((e=>(0,h.eE)(e))),g=(0,l.v9)((e=>(0,h.F$)(e))),F=(0,l.v9)((e=>(0,h.uF)(e))),p=(0,l.v9)((e=>(0,h.o0)(e))),b=(0,l.I0)();return(0,n.useEffect)((()=>{(0,c.setDiagnosticsOptions)({enableSchemaRequest:!0,hover:!0,completion:!0,validate:!0,format:!0,schemas:[{uri:"completion.schema.json",fileMatch:["*"]}]}),r.current.onContextMenu||(r.current=i.editor.create(e.current,{value:"",language:"yaml",glyphMargin:!0,theme:"vs-dark"})),r.current.onDidChangeModelContent(u()((()=>{const e=r.current.getModel().getValue();b((0,d.tD)(e))}),1e3)),r.current.changeViewZones((e=>{e.addZone({afterLineNumber:0,heightInPx:20,domNode:document.createElement("span")})}))}),[b]),(0,n.useEffect)((()=>{if(p)(e=>{try{const{data:t}={data:(0,f.Pj)(e)};r.current.getModel().setValue(t),b((0,d.tD)(t))}catch(e){console.error(e),alert(e.message)}})(p);else{if(!F)return;(async e=>{try{const{data:t}=await a().get(e);r.current.getModel().setValue(t),b((0,d.tD)(t))}catch(e){console.error(e),alert(e.message)}})(F)}}),[F,p,b]),(0,n.useEffect)((()=>{if(null===s)return void(t.current=r.current.deltaDecorations(t.current,[]));const e=(0,M.Wg)(s);r.current.deltaDecorations(t.current,[]);const n=[];for(const[r,t]of e.entries())n.push({range:new i.Range(Number(r),1,Number(r),1),options:{glyphMarginClassName:(0,M.g9)(t)===f.pn?o.editorMarginError:(0,M.g9)(t)===f.cM?o.editorMarginWarning:(0,M.g9)(t)===f.H_?o.editorMarginInfo:(0,M.g9)(t)===f.R0?o.editorMarginHint:o.editorMarginError}});t.current=r.current.deltaDecorations([],n)}),[s,o.editorHighlightLine,o.editorMarginError,o.editorMarginWarning,o.editorMarginInfo,o.editorMarginHint]),(0,n.useEffect)((()=>{g&&(r.current.revealLineInCenter(g.line),r.current.setPosition({lineNumber:g.line,column:g.character}),r.current.focus())}),[g]),n.createElement("div",{ref:e,className:o.editor})}}}]);